var Se=Object.defineProperty;var Y=(e,r)=>{for(var s in r)Se(e,s,{get:r[s],enumerable:!0})};var v={};Y(v,{BLOCK_NODE:()=>Le,COMMENT_NODE:()=>He,KEYWORD_NODE:()=>Be,NUMBER_NODE:()=>Fe,ONELINE_COMMENT_NODE:()=>Ge,PROGRAM_NODE:()=>Re,SIGN_NODE:()=>$e,STRING_CONTENT_NODE:()=>We,UNKNOWN_NODE:()=>Ue,VARIABLE_NODE:()=>Pe,WHITESPACE_NODE:()=>Ke});var Re=0,Be=1,Le=2,We=3,Ke=4,Pe=5,$e=6,Ge=7,He=8,Fe=9,Ue=10;var j=["}","]",")","`",'"',"'","}","/"];var q={"{":"}","[":"]","(":")","`":"`",'"':'"',"'":"'","${":"}","/":"/"};var z=["{","[","(","`",'"',"'","${","/"];var J={10:["constructor","implements","instanceof"],9:["interface","protected"],8:["continue","debugger","function"],7:["default","extends","finally","package","private"],6:["delete","export","import","public","return","static","static","switch","typeof"],5:["async","await","break","catch","class","class","const","false","super","throw","using","while","yield"],4:["case","else","enum","from","null","this","true","void","with"],3:["for","for","get","let","new","set","try","var"],2:["as","do","if","in","in","of"]};var Q={4:[">>>="],3:["!==","??=","...","**=","<<=","===",">>=",">>>"],2:["--","-=","!=","??","?.","**","*=","/=","&&","&=","%=","^=","++","+=","<<","<=","==","=>",">=",">>","|=","||"],1:["-",",",";",":",":","!","?",".","*","/","&","%","^","+","<","=",">","|","~"]};var X=["	","\v","\f"," ","\xA0","\u1680","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u202F","\u205F","\u3000","\uFEFF",`
`,"\r","\u2028","\u2029"];var Z=["return","throw","delete","typeof","void","instanceof","in","of","yield","await","case","new"];var ee=["if","for","while","switch","with","catch"];var te=["else","do","try","finally"];var re=[")","]","}"];var Ve=(e,r,s,_,p,T)=>{for(var a=r,o=r.children,we=r.WHITESPACE,at=r.WHITESPACE_NODE,Ne=r.BLOCK_NODE,ke=r.keywords,De=r.is_sign_code,ve=r.is_number_code,be=r.is_number_literal_code,$=r.is_var_char,ye=r.blocks,Ce=r.block_map,Te=r.block_str_map,Ie=r.before_regex_keywords,Ae=r.control_keywords,ge=r.statement_starter_keywords,Me=r.sign_start_expressions,d=null,c=null,l="",f=s,t=s,b=0,m="",k=0,u=0,x=0,I=0,O="",lt="",i=!0,n=!0,w=0,A=[],g=[],y=!1,M=!1,S=r.signs,G=0,h="",H=0,N=0,C="",F=0,U=0,V="",D=0,R=0;s<_;)if(k=(l=e[s]).charCodeAt(0),u===0)we.includes(l)?s=++t:(f===t||(o.push(a.whitespace(p,e.substring(f,t))),f=t),x&&l===Te[O=a.value]?(o=(a=a.parent).children,x--,f=t=++s,O==="("?(F=A.length?A.pop():0,F===1?(n=!0,i=!0):(n=!1,i=!1)):O==="["?(n=!1,i=!1):O==="{"?(U=g.length?g.pop():1,U===1?(n=!0,i=!0):(n=!1,i=!1)):(O==="`"||O==='"'||O==="'")&&(n=!1,i=!1),a.type===Ne&&a.value==="`"&&(u=3)):l==="/"?(m=e[s+1],m==="*"?(t=f=s+=2,u=8):m==="/"?(t=f=s+=2,u=7):m==="="?(o.push(a.sign(p,"/=")),t=f=s+=2,n=!1,i=!0):i?(t=f=++s,m="/",d=new T,o.push(c=a.block(p,"/",d)),o=d,a=c,x++,u=2,n=!1):(o.push(a.sign(p,"/")),f=t=++s,n=!1,i=!0)):(b=ye.indexOf(l))!==-1?(m=Ce[b],l==="("?(A.push(w?1:0),w=0):l==="{"&&g.push(n?1:i?0:1),d=new T,c=a.block(p,l,d),o.push(c),o=d,a=c,t=f=++s,x++,(l==="("||l==="["||l==="{")&&(i=!0,n=l==="{"),u=b<3?0:b>3?2:3):De(k)?(t=f=s,u=4):ve(k)?(t=f=s,u=5):$(l)?(t=f=s,u=6):(o.push(a.unknown(p,l)),f=t=++s));else if(u===2){for(y=!1;t<_;){if(l=e[t],l==="\\"){t+=2;continue}if(a.value==="/"){if(l==="["?y=!0:l==="]"&&(y=!1),!y&&l==="/")break}else if(l===m)break;t++}if(V=a.value,o.push(a.text(p,e.substring(f,t))),x--,o=(a=a.parent).children,f=s=++t,u=0,n=!1,i=!1,V==="/"&&s<_){for(R=s;s<_&&(D=e[s].charCodeAt(0),D>=65&&D<=90||D>=97&&D<=122);)s++;s>R&&(o.push(a.text(p,e.substring(R,s))),f=t=s)}}else if(u===3){for(;t<_;){if(l=e[t],l==="\\"){t+=2;continue}if(m=e[I=t+1],l==="$"&&m==="{"){f===t||o.push(a.text(p,e.substring(f,t))),d=new T,c=a.block(p,"${",d),o.push(c),o=d,a=c,f=t=s=I+1,u=0,x++,n=!1,i=!0;break}if(l==="`"){f===t||o.push(a.text(p,e.substring(f,t))),o=(a=a.parent).children,x--,t=f=s=I,u=0,n=!1,i=!1;break}t++}t>=_&&u===3&&(f===t||o.push(a.text(p,e.substring(f,t))),s=t,u=0)}else if(u===4){for(S=r.signs,G=4,h="",H=_-f,N=Math.min(G,H),C="";N>=1;N--)if(C=e.substr(f,N),S[N]&&S[N].includes(C)){h=C;break}h||(h=e[f]),o.push(a.sign(p,h)),f=s=t=f+h.length,u=0,h===";"?(n=!0,i=!0):h==="++"||h==="--"?(n=!1,i=!0):(n=!1,i=!Me.includes(h))}else if(u===5){for(;t<_;){if(l=e[t],k=l.charCodeAt(0),be(k)){t++;continue}else if((l==="e"||l==="E")&&(e[t+1]==="-"||e[t+1]==="+")){t+=2;continue}break}o.push(a.number(p,e.substring(f,t))),f=t=s=t,u=0,n=!1,i=!1}else if(u===6){for(;t<_&&$(e[t]);)t++;s=t,m=e.substring(f,t),M=ke[t-f]?.includes(m)||!1,o.push(M?a.keyword(p,m):a.variable(p,m)),u=0,M?Ae.includes(m)?(w=1,n=!1,i=!0):ge.includes(m)?(w=0,n=!0,i=!0):Ie.includes(m)?(w=0,n=!1,i=!0):(w=0,n=!1,i=!1):(w=0,n=!1,i=!1),f=t=s}else if(u===7){for(;t<_&&e[t]!==`
`&&e[t]!=="\r"&&e[t]!=="\u2028"&&e[t]!=="\u2029";)t++;o.push(a.oneline_comment(p,e.substring(f,t))),f=t=s=t,u=0}else if(u===8){for(;t<_&&!(e[t]==="*"&&e[t+1]==="/");)t++;o.push(a.comment(p,e.substring(f,t))),f=t=s=t+2,u=0}return u===0&&f!==t&&(o.push(a.whitespace(p,e.substring(f,t))),f=t),r};var Ye=(e,r)=>{var s=e.length,_=r.length;return s===_?e.localeCompare(r):s-_};var P={};Y(P,{BLOCK_NODE:()=>qe,COMMENT_NODE:()=>et,KEYWORD_NODE:()=>je,NUMBER_NODE:()=>tt,NodeType:()=>v,ONELINE_COMMENT_NODE:()=>Ze,SIGN_NODE:()=>Xe,STRING_CONTENT_NODE:()=>ze,VARIABLE_NODE:()=>Qe,WHITESPACE:()=>X,WHITESPACE_NODE:()=>Je,before_regex_keywords:()=>Z,block:()=>ae,block_map:()=>j,block_str_map:()=>q,block_value_of:()=>L,blocks:()=>z,children_value_of:()=>B,comment:()=>se,comment_value_of:()=>K,control_keywords:()=>ee,is_keyword_code:()=>Ee,is_number_code:()=>he,is_number_literal_code:()=>de,is_sign_code:()=>ce,is_var_char:()=>me,keyword:()=>le,keywords:()=>J,number:()=>ue,oneline_comment:()=>fe,oneline_comment_value_of:()=>W,reduce_simple_value_of:()=>xe,sign:()=>oe,sign_start_expressions:()=>re,signs:()=>Q,simple_value_of:()=>E,statement_starter_keywords:()=>te,text:()=>ie,unknown:()=>_e,value_of_template:()=>rt,variable:()=>ne,whitespace:()=>pe});var se=function(e,r){return new e(this.COMMENT_NODE,r,null,this)};var fe=function(e,r){return new e(this.ONELINE_COMMENT_NODE,r,null,this)};var ae=function(e,r,s){return new e(this.BLOCK_NODE,r,s,this)};var le=function(e,r){return new e(this.KEYWORD_NODE,r,null,this)};var ue=function(e,r){return new e(this.NUMBER_NODE,r,null,this)};var oe=function(e,r){return new e(this.SIGN_NODE,r,null,this)};var ie=function(e,r){return new e(this.STRING_CONTENT_NODE,r,null,this)};var ne=function(e,r){return new e(this.VARIABLE_NODE,r,null,this)};var pe=function(e,r){return new e(this.WHITESPACE_NODE,r,null,this)};var _e=function(e,r){return new e(this.UNKNOWN_NODE,r,null,this)};var me=((e,r)=>(s,_)=>(_===0?e:r).test(s))(/[$_\p{ID_Start}]/u,/[$_\u200C\u200D\p{ID_Continue}]/u);var he=e=>e>47&&e<58;var de=e=>e===46||e>=48&&e<=57||e>=65&&e<=70||e===79||e===88||e===95||e>=97&&e<=102||e===111||e===120||e===110;var Ee=e=>e>=97&&e<=122;var ce=e=>e===33||e===37||e===38||e>41&&e<48||e>57&&e<64||e===94||e===124||e===126;function E(){return this.value}var B=function(){return this.children.reduce(this.reduce_simple_value_of,"")};var L=function(){var e=this.value;return e+this.children_value_of()+this.block_str_map[e]};var W=function(){return`//${this.simple_value_of()}`};var K=function(){return`/*${this.simple_value_of()}*/`};var xe=(e,r)=>e+r;var je=1,qe=2,ze=3,Je=4,Qe=5,Xe=6,Ze=7,et=8,tt=9;var rt={0:B,1:E,2:L,3:E,4:E,5:E,6:E,7:W,8:K,9:E,10:E};function Oe(e,r,s,_){this.type=e,this.value=r,this.children=s,this.parent=_,this[Symbol.toPrimitive]=this.toString=this.valueOf=this.value_of_template[e]}Object.assign(Oe.prototype,P,v);var st=Oe;var ft=(e,r)=>new e(0,"",r,null);export{st as Node,v as NodeType,X as WHITESPACE,Z as before_regex_keywords,j as block_map,q as block_str_map,z as blocks,ee as control_keywords,J as keywords,Ve as parse,ft as program,re as sign_start_expressions,Q as signs,Ye as sort_strings_cb,te as statement_starter_keywords};
//# sourceMappingURL=1.js.map
